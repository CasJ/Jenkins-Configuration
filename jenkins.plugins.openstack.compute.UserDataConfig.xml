<?xml version='1.0' encoding='UTF-8'?>
<jenkins.plugins.openstack.compute.UserDataConfig_-UserDataConfigProvider plugin="openstack-cloud@2.14">
  <configs>
    <entry>
      <string>jenkins.plugins.openstack.compute.UserDataConfig.1471643505815</string>
      <org.jenkinsci.lib.configprovider.model.Config plugin="config-file-provider@2.13">
        <id>jenkins.plugins.openstack.compute.UserDataConfig.1471643505815</id>
        <name>interops_deployer</name>
        <comment>Agent to run different woarkloads on top of osic1 cloud</comment>
        <content>#cloud-config

packages:
 - build-essential
 - curl
 - git
 - libssl-dev
 - libffi-dev
 - libxml2-dev
 - libxslt1-dev
 - libpq-dev
 - python-dev
 - python-pip
 - vim
 - wget

runcmd:
 - sudo sed -i &quot;li127.0.1.1 $(hostname)&quot; /etc/hosts
 - pip install ansible&gt;=2.0
 - pip install shade</content>
        <providerId>jenkins.plugins.openstack.compute.UserDataConfig</providerId>
      </org.jenkinsci.lib.configprovider.model.Config>
    </entry>
    <entry>
      <string>jenkins.plugins.openstack.compute.UserDataConfig.1471553284027</string>
      <org.jenkinsci.lib.configprovider.model.Config plugin="config-file-provider@2.13">
        <id>jenkins.plugins.openstack.compute.UserDataConfig.1471553284027</id>
        <name>onmetal_deployer_setup</name>
        <comment>Initial setup for an onmetal deployer</comment>
        <content>#cloud-config

packages:
 - build-essential
 - curl
 - git
 - libssl-dev 
 - libffi-dev
 - libxml2-dev 
 - libxslt1-dev 
 - libpq-dev
 - libvirt-dev
 - pkg-config
 - python-dev
 - python-pip
 - vim
 - wget

runcmd:
 - sudo sed -i &quot;1i127.0.1.1 $(hostname)&quot; /etc/hosts
 - pip install ansible&gt;=2.0
 - pip install pyrax
 - pip install libvirt-python
 - curl https://ec4a542dbf90c03b9f75-b342aba65414ad802720b41e8159cf45.ssl.cf5.rackcdn.com/1.2/Linux/amd64/rack -o /usr/local/bin/rack
 - chmod +x /usr/local/bin/rack
 - sudo ssh-keygen -t rsa -f /root/.ssh/id_rsa -q -P &quot;&quot;
 - sudo cp /root/.ssh/id_rsa /home/ubuntu/.ssh/
 - sudo cp /root/.ssh/id_rsa.pub /home/ubuntu/.ssh/
 - sudo chown ubuntu:ubuntu /home/ubuntu/.ssh/id_rsa.pub
 - sudo chown ubuntu:ubuntu /home/ubuntu/.ssh/id_rsa
 </content>
        <providerId>jenkins.plugins.openstack.compute.UserDataConfig</providerId>
      </org.jenkinsci.lib.configprovider.model.Config>
    </entry>
    <entry>
      <string>jenkins.plugins.openstack.compute.UserDataConfig.1470757175885</string>
      <org.jenkinsci.lib.configprovider.model.Config plugin="config-file-provider@2.13">
        <id>jenkins.plugins.openstack.compute.UserDataConfig.1470757175885</id>
        <name>vm_initial_setup</name>
        <comment>Installs arbitrary packages</comment>
        <content>#cloud-config

runcmd:
 - sudo sed -i &quot;1i127.0.1.1 $(hostname)&quot; /etc/hosts
# - ssh-keygen -t rsa -b 4096 -f /home/ubuntu/.ssh/id_rsa -q -N &quot;&quot;

# Install the following packages
packages:
 - git
 - python-pip
 - vim
 - build-essential
 - libssl-dev 
 - libffi-dev 
 - python-dev 
 - libxml2-dev 
 - libxslt1-dev 
 - libpq-dev

# Allowing: ElasticSearch server to access the VM 
ssh_authorized_keys:
 - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDORlpt1kdCY8awA0W6GX5roelSqRmDyRNgU6iYIfd2CH4dR9fsJxXZtcDVkISJ/fiOEQxv29S3RsDZR6/MyFvgtH1EThCZZupV2MWq9VBdPO5mPRFpNYSl9TkKaVE0ByNjY3a+ng1cQLQYO4D2gDA/TsxbtJH2AUsh5mc4PuOPSm3y4aWIlDsClqtPlT8/aBzMh5svYK4vZfVHdmuabcyDcrPbaQL+GrNlSwb+sM0d0u5v+ebx+Fxvl0HI9FVrL/IaeH8vkHJMJSkT5HWIR1h0Ysl+BGAShSwS9t/HulpWOk/+1bPulXKNzqazb0I1D/AFjEep1iRFTVmEHkVdcryN ubuntu@ci-elasticsearch

write_files:
 - encoding: b64
   content: CiMgVGhpcyBmaWxlIGNvbnRyb2xzIHRoZSBzdGF0ZSBvZiBTRUxpbnV4
   path: /home/ubuntu/.ssh/test_1
</content>
        <providerId>jenkins.plugins.openstack.compute.UserDataConfig</providerId>
      </org.jenkinsci.lib.configprovider.model.Config>
    </entry>
  </configs>
</jenkins.plugins.openstack.compute.UserDataConfig_-UserDataConfigProvider>