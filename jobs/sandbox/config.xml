<?xml version='1.0' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.8">
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
      <triggers/>
    </org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
  </properties>
  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.21">
    <script>
stage &apos;Sandbox&apos;
node(&apos;onmetal-provisioner&apos;) {
    
    def host_ip = &apos;65.61.190.78&apos;
    def resulst
    
    // Run the tests and store the results in ~/subunit/before
    results = sh returnStdout: true, script: &quot;&quot;&quot;
    ssh -o StrictHostKeyChecking=no root@${host_ip} &apos;&apos;&apos;
    cd /root/tempest/
    stream_id=`cat .testrepository/next-stream`
    ostestr --list
    mkdir -p /root/subunit/smoke/
    cp .testrepository/\$stream_id /root/subunit/smoke/temp
    &apos;&apos;&apos;
    &quot;&quot;&quot;
    println &apos;These are the results generated by the script&apos;
    println results
    //if (results.contains(&apos;- Failed:&apos;) == true) {
    //    println &apos;Failed tests were found&apos;
    //}
    
}
</script>
    <sandbox>true</sandbox>
  </definition>
  <triggers/>
</flow-definition>